{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject,\n    _templateObject2,\n    _jsxFileName = \"/Users/augustotoloza/Documents/School/ruletap-mobile/ruleweb-rn/Homescreen.js\";\n\nimport \"react-native-gesture-handler\";\nimport React, { useContext } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport CustomInput from \"./components/generics/CustomInput\";\nimport CustomTouchableOpacity from \"./components/generics/CustomTouchableOpacity\";\nimport Heading from \"./components/generics/Heading\";\nimport styled from \"styled-components/native\";\nimport logo from \"./images/logo-tap.png\";\nimport APIHandler from \"./APIHandler\";\nimport RulewebContext from \"./RulewebContext\";\nimport { EmailIsValid, isComplete } from \"./Validations\";\nimport { useState } from \"react/cjs/react.development\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport * as Device from 'expo-device';\nvar HeaderLogo = styled.Image(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  margin: 44px auto 60px;\\n  width: 157px;\\n  height: 53px;\\n\"])));\nvar Wrapper = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  background: white;\\n  padding: 16px 24px;\\n  display: flex;\\n  flex-direction: column;\\n  flex-wrap: nowrap;\\n  justify-content: center;\\n  align-content: stretch;\\n  align-items: stretch;\\n  height: 100%;\\n\"])));\nexport default function Homescreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(RulewebContext),\n      email = _useContext.email,\n      setEmail = _useContext.setEmail,\n      password = _useContext.password,\n      setPassword = _useContext.setPassword,\n      isAuthorized = _useContext.isAuthorized,\n      setIsAuthorized = _useContext.setIsAuthorized,\n      shopData = _useContext.shopData,\n      setShopData = _useContext.setShopData;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      emailInp = _useState2[0],\n      setEmailInp = _useState2[1];\n\n  var handleEmail = function handleEmail(inp) {\n    EmailIsValid(inp) && setEmail(inp);\n    setEmailInp(inp);\n  };\n\n  function clearInputs() {\n    setEmailInp(\"\");\n    setPassword(\"\");\n  }\n\n  var handleSubmit = function handleSubmit(e) {\n    APIHandler.post(\"/shops/login\", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      if (res.status === 200) {\n        setIsAuthorized(true);\n        setShopData({\n          logo: res.data.logo.url,\n          email: res.data.email\n        });\n        clearInputs();\n        navigation.navigate(\"Dashboard\");\n      }\n    }).catch(function (err) {\n      Device.brand != null ? Alert.alert(\"Hubo un error\", \"Verifica tus datos e intenta nuevamente\", [{\n        text: \"OK\",\n        onPress: function onPress() {\n          return clearInputs();\n        }\n      }]) : alert(\"Hubo un error. Verifica tus datos e intenta nuevamente.\");\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      display: \"flex\",\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, React.createElement(HeaderLogo, {\n    source: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), React.createElement(Heading, {\n    title: \"Iniciar Sesi\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flexGrow: 1,\n      rowGap: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(CustomInput, {\n    placeholder: \"Email\",\n    infoText: \"Tu email es el mismo que el de la App\",\n    value: emailInp,\n    onChangeText: function onChangeText(txt) {\n      return handleEmail(txt);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), React.createElement(CustomInput, {\n    placeholder: \"PIN\",\n    infoText: \"Tu clave de seguridad es la misma que el de la App\",\n    secureTextEntry: true,\n    value: password,\n    name: \"password\",\n    onChangeText: function onChangeText(txt) {\n      return setPassword(txt);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  })), React.createElement(CustomTouchableOpacity, {\n    title: \"Iniciar Sesion\",\n    disabled: !isComplete(email, password),\n    behavior: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/augustotoloza/Documents/School/ruletap-mobile/ruleweb-rn/Homescreen.js"],"names":["React","useContext","CustomInput","CustomTouchableOpacity","Heading","styled","logo","APIHandler","RulewebContext","EmailIsValid","isComplete","useState","SafeAreaView","Device","HeaderLogo","Image","Wrapper","View","Homescreen","navigation","email","setEmail","password","setPassword","isAuthorized","setIsAuthorized","shopData","setShopData","emailInp","setEmailInp","handleEmail","inp","clearInputs","handleSubmit","e","post","then","res","status","data","url","navigate","catch","err","brand","Alert","alert","text","onPress","display","flex","flexGrow","rowGap","txt"],"mappings":"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","sourcesContent":["import \"react-native-gesture-handler\";\nimport React, { useContext } from \"react\";\nimport { Alert, View } from \"react-native\";\nimport CustomInput from \"./components/generics/CustomInput\";\nimport CustomTouchableOpacity from \"./components/generics/CustomTouchableOpacity\";\nimport Heading from \"./components/generics/Heading\";\nimport styled from \"styled-components/native\";\nimport logo from \"./images/logo-tap.png\";\nimport APIHandler from \"./APIHandler\";\nimport RulewebContext from \"./RulewebContext\";\nimport { EmailIsValid, isComplete } from \"./Validations\";\nimport { useState } from \"react/cjs/react.development\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport * as Device from 'expo-device';\n\n\nconst HeaderLogo = styled.Image`\n  margin: 44px auto 60px;\n  width: 157px;\n  height: 53px;\n`;\nconst Wrapper = styled.View`\n  background: white;\n  padding: 16px 24px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-content: stretch;\n  align-items: stretch;\n  height: 100%;\n`;\nexport default function Homescreen({ navigation }) {\n  const {\n    email,\n    setEmail,\n    password,\n    setPassword,\n    isAuthorized,\n    setIsAuthorized,\n    shopData,\n    setShopData,\n  } = useContext(RulewebContext);\n  const [emailInp, setEmailInp] = useState(\"\");\n  const handleEmail = (inp) => {\n    EmailIsValid(inp) && setEmail(inp);\n    setEmailInp(inp);\n  };\n  function clearInputs() {\n    setEmailInp(\"\");\n    setPassword(\"\");\n  }\n  const handleSubmit = (e) => {\n    APIHandler.post(\"/shops/login\", { email, password })\n      .then((res) => {\n        if (res.status === 200) {\n          setIsAuthorized(true);\n          setShopData({\n            logo: res.data.logo.url,\n            email: res.data.email,\n          });\n          clearInputs();\n          navigation.navigate(\"Dashboard\");\n        }\n      })\n      .catch((err) => {\n        Device.brand != null ? (\n          Alert.alert(\n            \"Hubo un error\",\n            \"Verifica tus datos e intenta nuevamente\",\n            [{ text: \"OK\", onPress: () => clearInputs()}]\n          )\n        )  :  alert(\"Hubo un error. Verifica tus datos e intenta nuevamente.\");\n      });\n  };\n  return (\n    <SafeAreaView style={{display: \"flex\", flex: 1}}>\n      <Wrapper>\n        <HeaderLogo source={logo} />\n        <Heading title=\"Iniciar Sesión\" />\n        <View style={{ flexGrow: 1, rowGap: 24 }}>\n          <CustomInput\n            placeholder=\"Email\"\n            infoText=\"Tu email es el mismo que el de la App\"\n            value={emailInp}\n            onChangeText={(txt) => handleEmail(txt)}\n          />\n          <CustomInput\n            placeholder=\"PIN\"\n            infoText=\"Tu clave de seguridad es la misma que el de la App\"\n            secureTextEntry={true}\n            value={password}\n            name=\"password\"\n            onChangeText={(txt) => setPassword(txt)}\n          />\n        </View>\n        <CustomTouchableOpacity\n          title=\"Iniciar Sesion\"\n          disabled={!isComplete(email, password)}\n          behavior={handleSubmit}\n        />\n      </Wrapper>\n    </SafeAreaView>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}